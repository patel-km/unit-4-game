<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Crystal Game</title>
    <link rel="stylesheet" type ="text/css" href="assets/css/reset.css">
    <link rel="stylesheet" type ="text/css" href="assets/css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<body>

    <h1>Crystals Collector!</h1>
    <br>
        <div id="instructions">
            <div id="text">
                <h3>Instructions:</h3>
                <br>
                    <p>You will be given a random number at the start of the game.</p>
                    <br>
                    <p>There are four crystals below. By clicking on a crystal, you will add a specific amount of points to your sum.</p>
                    <br>
                    <p>To win the game, you must match your sum to the random number. If your sum becomes greater than the random number, you lose.</p>
                    <br>
                    <p>The value of each crystal is hidden from you until you click it.</p>
                    <br>
                    <p>Each time a new game begins, the values of each crystal will change.</p>
                    <br>
                    <p>Good luck and have fun!</p>
                    <br>
            </div>
            <div id="bg"></div>
            <img src="assets/images/asanoha-400px.png">
        </div>

                <div id="numBox"></div>

                <div id="crystal">
                    <img src="assets/images/SVG/gem1.svg" id="red">
                    <img src="assets/images/SVG/gem2.svg" id="blue">
                    <img src="assets/images/SVG/gem3.svg" id="green">
                    <img src="assets/images/SVG/gem4.svg" id="purple">
                </div>

                <div id="scoreBox">
                    <div id="scoreMsg">
                    </div>

                    <div id="scoreCount">
                    </div>
                </div>
                
                <p id="sumTxt">Your sum:</p>
                
                <div id="sumBox"></div>

            <div id="footer"><a id="attribute" href="https://www.vecteezy.com/">Gems from Free Vector Art by www.vecteezy.com</a></div>
            
        <script>

        //wait until screen loaded to do anything

            var numBox= getNumber (19,120);
            var red = getNumber (1,12);
            var blue = getNumber (1,12);
            var green = getNumber (1,12);
            var purple = getNumber (1,12);
            var sum = 0;
            var win = 0;
            var lose = 0;

        //Assign a random value to numBox and each crystal
        function getNumber (n1, n2) {
                return Math.floor(Math.random() * (n2- n1) + n1);
            }

        //Sets up win and lose score
        $("#scoreCount").html("<p> Wins: " + win + "</p>"+ 
                            "<p> Losses: " + lose + "</p>");
       
        //Print random number in the div "numBox"
            $("#numBox").text(numBox);

        
        
        //On each click:
            //Display click value in the sum box
            //check if win/lose each time click
            //Display/record win and loss, based on defined conditions

            $("#red").on("click", function () {
                sum = sum + red;
                $("#sumBox").text(sum);
            });
           
            $("#blue").on("click", function () {
                sum = sum + blue;
                $("#sumBox").text(sum);
            });

            $("#green").on("click", function () {
                sum = sum + green;
                $("#sumBox").text(sum);
            });

            $("#purple").on("click", function () {
                sum = sum + purple;
                $("#sumBox").text(sum);
            });
            
            //Win/Lose-- display outcome, keep score, and reset variables
            $("#crystal").on("click", "img", function () {
                if (sum > numBox) {
                        lose++;
                        $("#scoreMsg").html("<p>You lost!</p>");
                        $("#scoreCount").html("<p> Wins: " + win + "</p>"+ "<p> Losses: " + lose + "</p>");
                        $("#sumBox").empty();
                        
                                               

                    } else if (sum === numBox) {
                        win++;
                        $("#scoreMsg").html("<p>You won!</p>");
                        $("#scoreCount").html("<p> Wins: " + win + "</p>"+ "<p> Losses: " + lose + "</p>");   
                        $("#sumBox").empty();
                          
                    }
                    
            });

            function reset () {
                var numBox= getNumber (19,120);
                var red = getNumber (1,12);
                var blue = getNumber (1,12);
                var green = getNumber (1,12);
                var purple = getNumber (1,12);
                var sum = 0;
            };
            
        </script>
    
</body>
</html>